<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduChat - Teacher-Student Communication</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: #333;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .logo i {
            font-size: 1.8rem;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #fff;
            color: #4b6cb7;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .role-selector {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
            gap: 1rem;
        }
        
        .role-btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 25px;
            background-color: #e0e0e0;
            color: #555;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .role-btn.active {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 1rem;
        }
        
        .sidebar {
            width: 300px;
            background-color: white;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .sidebar-header {
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-box {
            padding: 0.5rem 1rem;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .search-box input {
            width: 100%;
            padding: 0.5rem 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            outline: none;
        }
        
        .conversation-list {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }
        
        .conversation {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-bottom: 5px;
        }
        
        .conversation:hover {
            background-color: #f0f5ff;
        }
        
        .conversation.active {
            background-color: #e6f0ff;
        }
        
        .conversation-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #4b6cb7;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 1.2rem;
        }
        
        .conversation-info {
            flex: 1;
        }
        
        .conversation-name {
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .conversation-preview {
            font-size: 0.9rem;
            color: #777;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 180px;
        }
        
        .conversation-time {
            font-size: 0.8rem;
            color: #999;
            align-self: flex-start;
        }
        
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: white;
        }
        
        .chat-header {
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
        }
        
        .chat-header-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #4b6cb7;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .chat-header-info {
            flex: 1;
        }
        
        .chat-header-name {
            font-weight: 600;
        }
        
        .chat-header-status {
            font-size: 0.9rem;
            color: #4CAF50;
        }
        
        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #f9fafc;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 70%;
            padding: 0.8rem 1rem;
            border-radius: 18px;
            position: relative;
            line-height: 1.5;
        }
        
        .message.received {
            background-color: #e9eef7;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .message.sent {
            background-color: #4b6cb7;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .message-time {
            font-size: 0.7rem;
            margin-top: 5px;
            text-align: right;
            opacity: 0.8;
        }
        
        .chat-input {
            padding: 1rem;
            border-top: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 24px;
            outline: none;
        }
        
        .send-button {
            background-color: #4b6cb7;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .attachment-button {
            color: #777;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 1rem 0;
            color: #333;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: calc(100vh - 120px);
            }
            
            .sidebar {
                width: 100%;
                height: 40%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .chat-area {
                height: 60%;
            }
            
            .message {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <span>EduChat</span>
        </div>
        <div class="user-info">
            <div class="user-avatar" id="user-avatar">T</div>
            <div id="user-name">Teacher</div>
        </div>
    </div>
    
    <h1 class="page-title">Communication - Message Students and Teachers</h1>
    
    <div class="role-selector">
        <button class="role-btn active" id="teacher-btn">Teacher View</button>
        <button class="role-btn" id="student-btn">Student View</button>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Conversations</h2>
                <i class="fas fa-edit" id="new-conversation"></i>
            </div>
            <div class="search-box">
                <input type="text" placeholder="Search conversations..." id="search-input">
            </div>
            <div class="conversation-list" id="conversation-list">
                <!-- Conversations will be populated by JavaScript -->
            </div>
        </div>
        
        <div class="chat-area">
            <div class="chat-header">
                <div class="chat-header-avatar" id="current-chat-avatar">ES</div>
                <div class="chat-header-info">
                    <div class="chat-header-name" id="current-chat-name">Select a conversation</div>
                    <div class="chat-header-status" id="current-chat-status"> </div>
                </div>
                <div class="chat-header-actions">
                    <i class="fas fa-phone-alt"></i>
                    <i class="fas fa-video"></i>
                    <i class="fas fa-info-circle"></i>
                </div>
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <div class="message-info" id="no-conversation">
                    Select a conversation from the list to start messaging
                </div>
            </div>
            
            <div class="chat-input">
                <i class="fas fa-paperclip attachment-button"></i>
                <input type="text" placeholder="Type a message..." id="message-input">
                <button class="send-button" id="send-button">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // User data
        const users = {
            teacher: {
                name: "Prof. John Davis",
                avatar: "JD",
                conversations: [
                    {
                        id: "student1",
                        name: "Emma Smith",
                        avatar: "ES",
                        status: "Online",
                        messages: [
                            { sender: "student", content: "Good morning, Professor Davis. I wanted to ask about the feedback on my last assignment.", time: "10:30 AM" },
                            { sender: "teacher", content: "Hello Emma. Your work was excellent! I particularly liked your analysis of the historical context.", time: "10:32 AM" },
                            { sender: "student", content: "Thank you! I spent quite some time researching that section. Do you think I should expand on it for the final project?", time: "10:35 AM" },
                            { sender: "teacher", content: "Absolutely. That would make a great focus for your final paper. I can share some additional resources if you'd like.", time: "10:40 AM" },
                            { sender: "student", content: "That would be wonderful, thank you for the feedback!", time: "10:45 AM" }
                        ]
                    },
                    {
                        id: "student2",
                        name: "Michael Johnson",
                        avatar: "MJ",
                        status: "Last seen 30 min ago",
                        messages: [
                            { sender: "student", content: "When is the assignment due?", time: "Yesterday" },
                            { sender: "teacher", content: "It's due next Friday by 5 PM.", time: "Yesterday" }
                        ]
                    },
                    {
                        id: "student3",
                        name: "Sarah Rodriguez",
                        avatar: "SR",
                        status: "Online",
                        messages: [
                            { sender: "student", content: "I have a question about the project requirements.", time: "Wednesday" },
                            { sender: "teacher", content: "Sure, what would you like to know?", time: "Wednesday" }
                        ]
                    }
                ]
            },
            student: {
                name: "Emma Smith",
                avatar: "ES",
                conversations: [
                    {
                        id: "teacher1",
                        name: "Prof. John Davis",
                        avatar: "JD",
                        status: "Online",
                        messages: [
                            { sender: "student", content: "Good morning, Professor Davis. I wanted to ask about the feedback on my last assignment.", time: "10:30 AM" },
                            { sender: "teacher", content: "Hello Emma. Your work was excellent! I particularly liked your analysis of the historical context.", time: "10:32 AM" },
                            { sender: "student", content: "Thank you! I spent quite some time researching that section. Do you think I should expand on it for the final project?", time: "10:35 AM" },
                            { sender: "teacher", content: "Absolutely. That would make a great focus for your final paper. I can share some additional resources if you'd like.", time: "10:40 AM" },
                            { sender: "student", content: "That would be wonderful, thank you for the feedback!", time: "10:45 AM" }
                        ]
                    },
                    {
                        id: "teacher2",
                        name: "Dr. Lisa Brown",
                        avatar: "LB",
                        status: "Last seen 2 hours ago",
                        messages: [
                            { sender: "student", content: "Hello Dr. Brown, I wanted to discuss my research paper topic.", time: "Yesterday" },
                            { sender: "teacher", content: "Sure Emma, please stop by during my office hours tomorrow.", time: "Yesterday" }
                        ]
                    }
                ]
            }
        };

        // Current state
        let currentUser = 'teacher';
        let currentConversation = null;

        // DOM elements
        const teacherBtn = document.getElementById('teacher-btn');
        const studentBtn = document.getElementById('student-btn');
        const userName = document.getElementById('user-name');
        const userAvatar = document.getElementById('user-avatar');
        const conversationList = document.getElementById('conversation-list');
        const currentChatName = document.getElementById('current-chat-name');
        const currentChatAvatar = document.getElementById('current-chat-avatar');
        const currentChatStatus = document.getElementById('current-chat-status');
        const chatMessages = document.getElementById('chat-messages');
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const noConversation = document.getElementById('no-conversation');

        // Initialize the app
        function init() {
            renderConversations();
            setupEventListeners();
        }

        // Set up event listeners
        function setupEventListeners() {
            teacherBtn.addEventListener('click', () => switchUser('teacher'));
            studentBtn.addEventListener('click', () => switchUser('student'));
            sendButton.addEventListener('click', sendMessage);
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });
        }

        // Switch between teacher and student view
        function switchUser(userType) {
            currentUser = userType;
            
            // Update UI
            teacherBtn.classList.toggle('active', userType === 'teacher');
            studentBtn.classList.toggle('active', userType === 'student');
            
            userName.textContent = users[userType].name;
            userAvatar.textContent = users[userType].avatar;
            
            // Reset conversation
            currentConversation = null;
            currentChatName.textContent = 'Select a conversation';
            currentChatAvatar.textContent = '';
            currentChatStatus.textContent = '';
            
            // Render conversations
            renderConversations();
            
            // Clear chat messages
            chatMessages.innerHTML = '<div class="message-info" id="no-conversation">Select a conversation from the list to start messaging</div>';
            noConversation = document.getElementById('no-conversation');
        }

        // Render conversation list
        function renderConversations() {
            conversationList.innerHTML = '';
            
            users[currentUser].conversations.forEach(conversation => {
                const lastMessage = conversation.messages[conversation.messages.length - 1];
                
                const convElement = document.createElement('div');
                convElement.classList.add('conversation');
                convElement.dataset.id = conversation.id;
                
                convElement.innerHTML = `
                    <div class="conversation-avatar">${conversation.avatar}</div>
                    <div class="conversation-info">
                        <div class="conversation-name">${conversation.name}</div>
                        <div class="conversation-preview">${lastMessage.content}</div>
                    </div>
                    <div class="conversation-time">${lastMessage.time}</div>
                `;
                
                convElement.addEventListener('click', () => selectConversation(conversation.id));
                conversationList.appendChild(convElement);
            });
        }

        // Select a conversation
        function selectConversation(conversationId) {
            // Remove active class from all conversations
            document.querySelectorAll('.conversation').forEach(conv => {
                conv.classList.remove('active');
            });
            
            // Add active class to selected conversation
            document.querySelector(`.conversation[data-id="${conversationId}"]`).classList.add('active');
            
            // Find the conversation
            currentConversation = users[currentUser].conversations.find(conv => conv.id === conversationId);
            
            // Update UI
            currentChatName.textContent = currentConversation.name;
            currentChatAvatar.textContent = currentConversation.avatar;
            currentChatStatus.textContent = currentConversation.status;
            
            // Render messages
            renderMessages();
            
            // Remove no conversation message
            if (noConversation) {
                noConversation.remove();
                noConversation = null;
            }
        }

        // Render messages for current conversation
        function renderMessages() {
            chatMessages.innerHTML = '';
            
            currentConversation.messages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message');
                messageElement.classList.add(message.sender === currentUser ? 'sent' : 'received');
                
                messageElement.innerHTML = `
                    <div class="message-content">${message.content}</div>
                    <div class="message-time">${message.time}</div>
                `;
                
                chatMessages.appendChild(messageElement);
            });
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Send a new message
        function sendMessage() {
            if (!currentConversation || !messageInput.value.trim()) return;
            
            // Create new message
            const now = new Date();
            const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            const newMessage = {
                sender: currentUser,
                content: messageInput.value.trim(),
                time: time
            };
            
            // Add to current conversation
            currentConversation.messages.push(newMessage);
            
            // Render messages
            renderMessages();
            
            // Clear input
            messageInput.value = '';
        }

        // Initialize the app
        init();
    </script>
</body>
</html>